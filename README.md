# Agentic Content Transformer

An AI-powered pipeline for transforming news articles into compelling avatar videos with lip-synced narration.

![Project Banner](dependencies/example_input/images/hoe_3.png)

## Overview

This project creates an end-to-end pipeline that:
1. Fetches and parses news articles
2. Generates concise scripts from the content
3. Converts scripts to audio using ElevenLabs
4. Produces lip-synced avatar videos using Sync.so

## Features

- **Article Processing**: Extract key information from news articles
- **Script Generation**: Create concise 30-second scripts using GPT-4
- **Audio Generation**: Convert scripts to natural speech with ElevenLabs
- **Avatar Video Generation**: Create lip-synced videos with Sync.so
- **Job Management**: Track and monitor video generation jobs
- **Indefinite Polling**: Support for long-running video generation jobs

## Demo Videos

Check out these example videos generated by the system:

1. [Example Avatar Video (9:16 aspect ratio)](https://api.sync.so/v2/generations/7b50995e-df61-4940-ba49-dcf7615b5301/result?token=bbb5ed1e-86f7-4d7b-b2a4-5f9e0aae686d)

## Installation

### Prerequisites

- Python 3.9+
- Conda environment
- API keys for:
  - OpenAI (GPT-4)
  - ElevenLabs
  - Sync.so

### Setup

1. Clone the repository:
   ```
   git clone https://github.com/yourusername/Agentic-Content-Transformer.git
   cd Agentic-Content-Transformer
   ```

2. Create and activate a conda environment:
   ```
   conda env create -f environment.yml
   conda activate agentic-transformer
   ```

3. Set up your API keys in the `.env` file:
   ```
   OPENAI_API_KEY=your_openai_key
   ELEVENLABS_API_KEY=your_elevenlabs_key
   SYNC_SO_API_KEY=your_sync_so_key
   ```

4. Ensure you have access to the required S3 bucket or set up your own storage for hosting audio and video files.

## Usage

### Running the Application

Start the Streamlit app:
```
streamlit run news_to_avatar.py
```

### Using the Test Scripts

Test Sync.so API connection:
```
python test_sync_direct.py
```

Generate a video with proper aspect ratio:
```
python fix_aspect_ratio.py
```

Check the status of an existing job:
```
python check_sync_job.py <job_id> --poll
```

## Project Structure

- `news_to_avatar.py`: Main Streamlit application
- `avatar_generator.py`: Integration with Sync.so for video generation
- `audio_generator.py`: Integration with ElevenLabs for audio generation
- `content_generator.py`: Script generation from article content
- `test_*.py`: Various test scripts for specific components
- `dependencies/`: Supporting files and assets
- `sync_jobs/`: Storage for job metadata

## Integration Guides

For detailed information about specific integrations:

- [Sync.so Integration Guide](SYNC_INTEGRATION.md): Details about the lip-sync video generation
- [ElevenLabs Integration](audio_generator.py): Voice generation functionality
- [Content Generation](content_generator.py): GPT-4 based script generation

## Known Issues

- Direct file uploads to Sync.so are not supported; all files must be hosted on publicly accessible URLs
- Long processing times for video generation (1-5 minutes) require appropriate polling strategies
- Aspect ratio must be carefully managed to avoid stretched videos

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Acknowledgments

- ElevenLabs for the voice synthesis API
- Sync.so for the avatar lip-syncing technology
- OpenAI for the GPT-4 API used in content generation 